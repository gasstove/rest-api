package com.gasstove.gs.test.resources;

import com.gasstove.gs.models.UserEvent;
import com.gasstove.gs.resources.UserEventResource;
import com.gasstove.gs.test.TestConfiguration;
import org.junit.Test;

import static org.junit.Assert.*;

/**
 * Created by gomes on 6/13/15.
 */
public class UserEventResourceTest extends AbstractResourceTest {

    public UserEventResourceTest(){
        this.clath = UserEvent.class;
        this.resource = new UserEventResource(TestConfiguration.db);
        this.getAll_exp = "[{\"userId\":13,\"eventId\":1,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":1},{\"userId\":16,\"eventId\":1,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":2},{\"userId\":45,\"eventId\":1,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":3},{\"userId\":30,\"eventId\":1,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":4},{\"userId\":50,\"eventId\":1,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":5},{\"userId\":28,\"eventId\":2,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":6},{\"userId\":6,\"eventId\":2,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":7},{\"userId\":19,\"eventId\":2,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":8},{\"userId\":1,\"eventId\":2,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":9},{\"userId\":44,\"eventId\":2,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":10},{\"userId\":22,\"eventId\":3,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":11},{\"userId\":46,\"eventId\":3,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":12},{\"userId\":43,\"eventId\":3,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":13},{\"userId\":25,\"eventId\":3,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":14},{\"userId\":29,\"eventId\":4,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":15},{\"userId\":46,\"eventId\":4,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":16},{\"userId\":12,\"eventId\":4,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":17},{\"userId\":7,\"eventId\":4,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":18},{\"userId\":23,\"eventId\":4,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":19},{\"userId\":2,\"eventId\":4,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":20},{\"userId\":50,\"eventId\":4,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":21},{\"userId\":26,\"eventId\":4,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":22},{\"userId\":28,\"eventId\":5,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":23},{\"userId\":50,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":24},{\"userId\":1,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":25},{\"userId\":12,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":26},{\"userId\":7,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":27},{\"userId\":37,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":28},{\"userId\":45,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":29},{\"userId\":4,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":30},{\"userId\":44,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":31},{\"userId\":47,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":32},{\"userId\":30,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":33},{\"userId\":13,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":34},{\"userId\":21,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":35},{\"userId\":46,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":36},{\"userId\":23,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":37},{\"userId\":42,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":38},{\"userId\":32,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":39},{\"userId\":33,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":40},{\"userId\":14,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":41},{\"userId\":15,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":42},{\"userId\":41,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":43},{\"userId\":49,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":44},{\"userId\":39,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":45},{\"userId\":11,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":46},{\"userId\":26,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":47},{\"userId\":22,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":48},{\"userId\":2,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":49},{\"userId\":38,\"eventId\":5,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":50},{\"userId\":36,\"eventId\":6,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":51},{\"userId\":8,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":52},{\"userId\":44,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":53},{\"userId\":20,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":54},{\"userId\":24,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":55},{\"userId\":21,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":56},{\"userId\":22,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":57},{\"userId\":10,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":58},{\"userId\":9,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":59},{\"userId\":37,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":60},{\"userId\":32,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":61},{\"userId\":1,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":62},{\"userId\":17,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":63},{\"userId\":38,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":64},{\"userId\":26,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":65},{\"userId\":25,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":66},{\"userId\":4,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":67},{\"userId\":33,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":68},{\"userId\":35,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":69},{\"userId\":48,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":70},{\"userId\":28,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":71},{\"userId\":49,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":72},{\"userId\":19,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":73},{\"userId\":2,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":74},{\"userId\":3,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":75},{\"userId\":7,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":76},{\"userId\":11,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":77},{\"userId\":29,\"eventId\":6,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":78},{\"userId\":12,\"eventId\":7,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":79},{\"userId\":1,\"eventId\":7,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":80},{\"userId\":23,\"eventId\":7,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":81},{\"userId\":1,\"eventId\":8,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":82},{\"userId\":6,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":83},{\"userId\":49,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":84},{\"userId\":20,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":85},{\"userId\":14,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":86},{\"userId\":27,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":87},{\"userId\":15,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":88},{\"userId\":43,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":89},{\"userId\":9,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":90},{\"userId\":21,\"eventId\":8,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":91},{\"userId\":50,\"eventId\":9,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":92},{\"userId\":15,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":93},{\"userId\":26,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":94},{\"userId\":5,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":95},{\"userId\":14,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":96},{\"userId\":43,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":97},{\"userId\":28,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":98},{\"userId\":30,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":99},{\"userId\":20,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":100},{\"userId\":24,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":101},{\"userId\":3,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":102},{\"userId\":29,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":103},{\"userId\":40,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":104},{\"userId\":44,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":105},{\"userId\":25,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":106},{\"userId\":48,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":107},{\"userId\":41,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":108},{\"userId\":7,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":109},{\"userId\":33,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":110},{\"userId\":16,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":111},{\"userId\":1,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":112},{\"userId\":9,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":113},{\"userId\":21,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":114},{\"userId\":6,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":115},{\"userId\":23,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":116},{\"userId\":13,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":117},{\"userId\":22,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":118},{\"userId\":31,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":119},{\"userId\":12,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":120},{\"userId\":11,\"eventId\":9,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":121},{\"userId\":39,\"eventId\":10,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":122},{\"userId\":4,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":123},{\"userId\":11,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":124},{\"userId\":13,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":125},{\"userId\":18,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":126},{\"userId\":10,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":127},{\"userId\":32,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":128},{\"userId\":9,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":129},{\"userId\":42,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":130},{\"userId\":26,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":131},{\"userId\":2,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":132},{\"userId\":27,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":133},{\"userId\":35,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":134},{\"userId\":19,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":135},{\"userId\":47,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":136},{\"userId\":38,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":137},{\"userId\":23,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":138},{\"userId\":37,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":139},{\"userId\":16,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":140},{\"userId\":8,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":141},{\"userId\":49,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":142},{\"userId\":33,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":143},{\"userId\":3,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":144},{\"userId\":40,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":145},{\"userId\":44,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":146},{\"userId\":5,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":147},{\"userId\":15,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":148},{\"userId\":6,\"eventId\":10,\"role\":\"GUEST\",\"myMedia\":[],\"sharedMedia\":[],\"id\":149}]";
        this.getForId_exp = "{\"userId\":13,\"eventId\":1,\"role\":\"OWNER\",\"myMedia\":[],\"sharedMedia\":[],\"id\":1}";
        this.use_id = TestConfiguration.userevent_id.toString();
    }

    @Test
    public void test_getUsersForEvent() {
        String response = ((UserEventResource)resource).getUsersForEvent(TestConfiguration.event_id.toString());
        String expected = "[{\"first\":\"Teresa\",\"last\":\"Torrain\",\"id\":13},{\"first\":\"Ed\",\"last\":\"Eggen\",\"id\":16},{\"first\":\"Maynard\",\"last\":\"Magnusson\",\"id\":30},{\"first\":\"Adelaida\",\"last\":\"Ariza\",\"id\":45},{\"first\":\"Hildegarde\",\"last\":\"Hellman\",\"id\":50}]";
        TestConfiguration.printout(response, expected, "test_getUsersForEvent");
        assertTrue(response.equals(expected));
    }

    @Test
    public void test_getEventsForUser() {
        System.out.println("test_getEventsForUser");
        String response = ((UserEventResource)resource).getEventsForUser(TestConfiguration.user_id.toString());
        String expected = "[{\"name\":\"theistic\",\"openDate\":\"1970-01-04T02:26:02.926-08:00\",\"closeDate\":\"1970-01-04T02:26:02.926-08:00\",\"ownerId\":36,\"id\":6}]";
        TestConfiguration.printout(response,expected,"test_getEventsForUser");
        assertEquals(response,expected);
    }

}
